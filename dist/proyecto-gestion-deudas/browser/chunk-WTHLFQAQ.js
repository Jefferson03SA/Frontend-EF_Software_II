import{O as k,P as R,R as S,S as T,T as F,U as j,w as N,z as v}from"./chunk-YETNPIQC.js";import{b as P}from"./chunk-ZPAV5QTQ.js";import{Bb as g,Bc as A,Jb as d,Kb as m,Qb as u,Rb as M,Sa as s,Ta as f,Tb as D,Z as _,ga as p,ha as C,jb as b,lb as l,nb as h,oa as z,pa as x,rb as a,sb as r,sc as I,tc as O,uc as w,wb as E,zb as y,zc as B}from"./chunk-QGCOHCHE.js";var L=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=C({type:e}),e.\u0275inj=_({imports:[N,v,v]});let i=e;return i})();function H(i,e){if(i&1){let o=E();a(0,"button",10),y("click",function(){z(o);let n=g().$implicit,c=g();return x(c.markAsRead(n.id))}),a(1,"mat-icon"),d(2,"done"),r()()}}function V(i,e){if(i&1&&(a(0,"mat-card",4)(1,"div",5)(2,"mat-icon"),d(3),r()(),a(4,"div",6)(5,"h3"),d(6),r(),a(7,"p"),d(8),r(),a(9,"span",7),d(10),M(11,"date"),r()(),a(12,"div",8),b(13,H,3,0,"button",9),r()()),i&2){let o=e.$implicit,t=g();h("unread",!o.read),s(),l("ngClass",o.type),s(2),m(t.getIcon(o.type)),s(3),m(o.title),s(2),m(o.message),s(2),m(D(11,8,o.date,"short")),s(3),l("ngIf",!o.read)}}var ce=(()=>{let e=class e{constructor(t){this.http=t,this.notifications=[]}ngOnInit(){this.http.get("http://localhost:8080/api/v1/notificaciones",{withCredentials:!0}).subscribe({next:t=>{this.notifications=t},error:t=>{console.error("Error al obtener notificaciones:",t)}})}getIcon(t){switch(t){case"warning":return"warning";case"info":return"info";case"success":return"check_circle";default:return"notifications"}}markAsRead(t){let n=this.notifications.find(c=>c.id===t);n&&(n.read=!0)}};e.\u0275fac=function(n){return new(n||e)(f(P))},e.\u0275cmp=p({type:e,selectors:[["app-notificaciones"]],standalone:!0,features:[u],decls:5,vars:1,consts:[[1,"notifications-container","fade-in"],[1,"page-title"],[1,"notifications-list"],["class","notification-card",3,"unread",4,"ngFor","ngForOf"],[1,"notification-card"],[1,"notification-icon",3,"ngClass"],[1,"notification-content"],[1,"notification-date"],[1,"notification-actions"],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"]],template:function(n,c){n&1&&(a(0,"div",0)(1,"h2",1),d(2,"Notificaciones"),r(),a(3,"div",2),b(4,V,14,11,"mat-card",3),r()()),n&2&&(s(4),l("ngForOf",c.notifications))},dependencies:[A,I,O,w,B,R,k,j,F,T,S,L],styles:[".notifications-container[_ngcontent-%COMP%]{padding:32px;background:#eaf4e8;border-radius:24px;box-shadow:0 2px 8px #0001}.notification-card[_ngcontent-%COMP%]{background:#e0ebde!important;display:flex;align-items:center;gap:20px;margin-bottom:18px;box-shadow:none!important;border-radius:18px;border:none;padding:18px 20px}.notification-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:transparent!important;border-radius:0;margin-right:8px}.notification-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0a2618!important;font-size:28px}.notification-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .notification-content[_ngcontent-%COMP%]   .notification-date[_ngcontent-%COMP%]{color:#0a2618!important}.notification-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.1rem;font-weight:600}.notification-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1rem}.notification-content[_ngcontent-%COMP%]   .notification-date[_ngcontent-%COMP%]{font-size:.9rem;opacity:.8}.notification-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0a2618!important}.notifications-list[_ngcontent-%COMP%]{margin-top:24px}@media (max-width: 600px){.notifications-container[_ngcontent-%COMP%]{padding:12px}.notification-card[_ngcontent-%COMP%]{padding:10px 6px;gap:10px}}"]});let i=e;return i})();export{ce as NotificacionesComponent};
